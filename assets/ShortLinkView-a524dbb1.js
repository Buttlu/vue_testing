import{_ as p,o as u,c as a,b as t,w as _,d as r,k as n,e as m,l as f,F as g,p as w,f as y}from"./index-8f82ef3c.js";const x={data:function(){return{url:"",token:"161f899846a11dbb84d8c5d3209b50ce2579bb6d",error:"",groupID:"",showError:!1,isLoading:!1,errorTextBox:null,resultTextBox:null,justCopied:!1}},methods:{shortenUrl:async function(){this.errorTextBox=document.getElementById("error"),this.resultTextBox=document.getElementById("result"),this.resultTextBox.innerHTML="",this.errorTextBox.innerHTML="",this.showError=!1,this.isLoading=!0;const e=this,s=document.getElementById("url_input");let d="";s!=null?d=s.value:this.error="input was null";const c={method:"POST",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify({long_url:d,domain:"bit.ly",group_id:this.groupID})};await fetch("https://api-ssl.bitly.com/v4/shorten",c).then(o=>o.json()).then(o=>{if(console.info(o.message,o.desription,o.resource),o.message!=null){e.error=o.message,e.showError=!0,e.isLoading=!1;return}this.url=o.link,this.showError||(this.resultTextBox.innerHTML=this.url),this.isLoading=!1}).catch(o=>{this.showError=!0,this.error=o}),this.showError&&(this.resultTextBox.innerHTML="Error occured",this.errorTextBox.innerHTML=this.error)},copy:function(){navigator.clipboard.writeText(this.url)},copiedPopup:function(){const e=document.getElementById("copy_button");e.innerHTML="Copied",e.classList.add("copied"),this.justCopied=!0,setTimeout(()=>{this.justCopied=!1,e.innerHTML="Copy",e.classList.remove("copied")},2500)}}},L="/vue_testing/assets/loading-71d30475.png";const i=e=>(w("data-v-1d09177e"),e=e(),y(),e),b={class:"wrapper"},v=i(()=>t("h1",null,"URL shortener",-1)),T={class:"u_input"},B=i(()=>t("input",{id:"url_input",placeholder:"https://example.com"},null,-1)),E=i(()=>t("button",{type:"submit",id:"shorten_button"},"Shorten URL",-1)),k=[B,E],C={class:"loading"},I=i(()=>t("img",{src:L},null,-1)),S=[I],M={class:"u_output"},H=i(()=>t("textarea",{readonly:"",rows:"1",id:"result",placeholder:"new URL"},null,-1)),j={readonly:"",rows:"1",id:"error"},U={class:"copied"},V=i(()=>t("span",null,"Link Copied!",-1)),F=[V],N={key:0,style:{position:"absolute",bottom:"0"}},$=i(()=>t("a",{href:"https://www.flaticon.com/free-icons/loading",title:"loading icons"},"Loading icons created by Freepik - Flaticon",-1)),D=[$];function P(e,s,d,c,o,l){return u(),a(g,null,[t("div",b,[v,t("div",T,[t("form",{onSubmit:s[0]||(s[0]=_(h=>l.shortenUrl(),["prevent"]))},k,32)]),r(t("div",C,S,512),[[n,e.isLoading]]),t("div",M,[H,r(t("textarea",j,null,512),[[n,e.showError]]),r(t("button",{onClick:s[1]||(s[1]=h=>{l.copy(),l.copiedPopup()}),id:"copy_button"},[m(" Copy "),r(t("div",U,F,512),[[n,e.justCopied]])],512),[[n,!e.showError]])])]),e.isLoading?(u(),a("div",N,D)):f("",!0)],64)}const O=p(x,[["render",P],["__scopeId","data-v-1d09177e"]]);export{O as default};
