import{_ as p,o as u,c as a,b as e,w as _,d as r,k as n,e as m,l as f,F as g,p as y,f as w}from"./index-059e21a4.js";const b="161f899846a11dbb84d8c5d3209b50ce2579bb6d",x={data:function(){return{url:"",token:b,error:"",groupID:"",showError:!1,isLoading:!1,errorTextBox:null,resultTextBox:null,justCopied:!1}},methods:{shortenUrl:async function(){this.errorTextBox=document.getElementById("error"),this.resultTextBox=document.getElementById("result"),this.resultTextBox.innerHTML="",this.errorTextBox.innerHTML="",this.showError=!1,this.isLoading=!0;const t=this,s=document.getElementById("url_input");let l="";s!=null?l=s.value:this.error="input was null";const c={method:"POST",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify({long_url:l,domain:"bit.ly",group_id:this.groupID})};await fetch("https://api-ssl.bitly.com/v4/shorten",c).then(o=>o.json()).then(o=>{if(console.info(o.message,o.desription,o.resource),o.message!=null){t.error=o.message,t.showError=!0,t.isLoading=!1;return}this.url=o.link,this.showError||(this.resultTextBox.innerHTML=this.url),this.isLoading=!1}).catch(o=>{this.showError=!0,this.error=o}),this.showError&&(this.resultTextBox.innerHTML="Error occured",this.errorTextBox.innerHTML=this.error)},copy:function(){navigator.clipboard.writeText(this.url)},copiedPopup:function(){const t=document.getElementById("copy_button");t.innerHTML="Copied",t.classList.add("copied"),this.justCopied=!0,setTimeout(()=>{this.justCopied=!1,t.innerHTML="Copy",t.classList.remove("copied")},2500)}}},L="/vue_testing/assets/loading-71d30475.png";const i=t=>(y("data-v-2c682892"),t=t(),w(),t),v={class:"wrapper"},T=i(()=>e("h1",null,"URL shortener",-1)),B={class:"u_input"},E=i(()=>e("input",{id:"url_input",placeholder:"https://example.com"},null,-1)),k=i(()=>e("button",{type:"submit",id:"shorten_button"},"Shorten URL",-1)),C=[E,k],I={class:"loading"},S=i(()=>e("img",{src:L},null,-1)),M=[S],H={class:"u_output"},j=i(()=>e("textarea",{readonly:"",rows:"1",id:"result",placeholder:"new URL"},null,-1)),U={readonly:"",rows:"1",id:"error"},V={class:"copied"},F=i(()=>e("span",null,"Link Copied!",-1)),N=[F],$={key:0,style:{position:"absolute",bottom:"0"}},D=i(()=>e("a",{href:"https://www.flaticon.com/free-icons/loading",title:"loading icons"},"Loading icons created by Freepik - Flaticon",-1)),P=[D];function R(t,s,l,c,o,d){return u(),a(g,null,[e("div",v,[T,e("div",B,[e("form",{onSubmit:s[0]||(s[0]=_(h=>d.shortenUrl(),["prevent"]))},C,32)]),r(e("div",I,M,512),[[n,t.isLoading]]),e("div",H,[j,r(e("textarea",U,null,512),[[n,t.showError]]),r(e("button",{onClick:s[1]||(s[1]=h=>{d.copy(),d.copiedPopup()}),id:"copy_button"},[m(" Copy "),r(e("div",V,N,512),[[n,t.justCopied]])],512),[[n,!t.showError]])])]),t.isLoading?(u(),a("div",$,P)):f("",!0)],64)}const z=p(x,[["render",R],["__scopeId","data-v-2c682892"]]);export{z as default};
